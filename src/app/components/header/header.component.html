<nav class="navbar navbar-expand-lg bg-white" data-bs-theme="dark">
  <div class="mx-5 d-flex justify-content-between w-100">

    <a routerLink="/home">
      <img src="assets/img/theboys.png" class="" width="150" alt="">
    </a>

      <div class="dropdown position-relative">
        <img src="{{ (auth.user$ | async)?.picture }}" alt="Dropdown button" (click)="toggleDropdown()" class="rounded-circle" width="50">
        <div class="dropdown-menu flex-column text-center bg-white position-absolute"  [ngClass]="dropper ? 'show d-flex' : ''" style="top: 100%; right: 0;">
          <span class="text-black" *ngIf="auth.user$ | async as user">{{ user.nickname }}</span>
          <hr>
          <a class="text-black dropdown-item" data-bs-toggle="modal" data-bs-target="#usersModal" *ngIf="role[0]?.name == 'Manager'">Gebruikers</a>
          <a class="text-black dropdown-item" routerLink="/poll-aanmaken" *ngIf="role[0]?.name == 'Manager'">Polls</a>
          <a class="text-black dropdown-item" href="#" (click)="logout()">Uitloggen</a>
        </div>
      </div>

  </div>
</nav>
<div class="modal fade" id="usersModal" tabindex="-1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5>Alle gebruikers</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body d-flex flex-column gap-2">
        <ul class="list-group">
          <li class="list-group-item d-flex align-items-center gap-2" *ngFor="let user of users">
            <img src="{{user.user_metadata.picture}}" class="rounded-circle" width="75" *ngIf="user.user_metadata">
            <img src="{{user.picture}}" class="rounded-circle" width="75" *ngIf="!user.user_metadata">
            <div class="w-100 flex-sm-row flex-column d-flex justify-content-between align-items-center">
              <h5 class="mb-0">{{user.name}}</h5>
              <small class="text-muted">Punten: {{user.user?.points ?? 0}}</small>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
